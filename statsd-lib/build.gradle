apply(plugin: "java")

repositories {
    mavenCentral()
}

dependencies {
    implementation(project(":cloudfoundry-identity-metrics-data"))
    implementation(libraries.springBootStarter)
    implementation(libraries.springBootStarterWeb) {
        exclude(module: "jackson-bom")
    }
    implementation(libraries.springBootStarterLog4j2)
    implementation(libraries.statsdClient)
    testImplementation(libraries.junit)
    testImplementation(libraries.mockito)
    testImplementation(libraries.springBootStarterTest)

    implementation(libraries.jacksonDataformatYaml) {
        exclude(module: "jackson-bom")
    }
    implementation(libraries.jacksonDatabind) {
        exclude(module: "jackson-bom")
    }
}

test {
    exclude("org/cloudfoundry/identity/statsd/integration/*.class")
    exclude("**/*IT.class")
}

integrationTest {
    filter {
        includeTestsMatching("org.cloudfoundry.identity.statsd.integration.*")
        includeTestsMatching("*IT")
    }
}
